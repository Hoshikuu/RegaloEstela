<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>¡Feliz Cumpleaños!</title>
  <style>
    body{
      margin:0;
      font-family:'Segoe UI', Roboto, Arial, sans-serif;
      background:#1c1c1c;
      color:#f5f5f5;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }
    .card{
      width:100%;
      max-width:600px;
      background:#2c2c2c;
      border-radius:14px;
      padding:24px;
      box-shadow:0 6px 18px rgba(0,0,0,0.6);
      position:relative;
      overflow:hidden;
    }
    header{margin-bottom:16px; text-align:center}
    h1{margin:0; font-size:26px; color:#eabfff}
    p.lead{margin:8px 0 0; color:#ccc; font-size:15px}
    .age{display:inline-block; background:#444; color:#ffd700; padding:4px 8px; border-radius:999px; font-weight:600; margin-left:6px; font-size:14px}
    .gift-box{background:#3b3b3b; border-radius:12px; padding:18px; text-align:center; margin-top:18px; border:1px solid #555}
    .gift-box h2{color:#ffd700; margin:0 0 10px; font-size:18px}
    .gift-code{font-family:monospace; font-size:18px; letter-spacing:2px; margin:12px 0; padding:10px; background:#1c1c1c; border:1px dashed #777; border-radius:8px; word-break:break-all; color:#fff}
    .btn{display:inline-flex; gap:6px; align-items:center; padding:8px 14px; border-radius:8px; border:0; cursor:pointer; font-weight:600; font-size:14px}
    .btn-primary{background:#8e44ad; color:#fff}
    .btn-ghost{background:transparent; border:1px solid #aaa; color:#eee}
    .small{font-size:14px; color:#ddd}
    canvas#confetti{position:absolute; inset:0; pointer-events:none}
  </style>
</head>
<body>
  <div class="card" role="main">
    <canvas id="confetti"></canvas>
    <header>
      <h1>Feliz cumpleaños, Estela♥️<span class="age">20</span></h1>
      <p class="lead">Hoy - <time datetime="2025-10-04">4 de octubre de 2025</time> - celebramos a una amiga increíble.</p>
    </header>

    <section class="gift-box">
      <h2>Un mensaje personal</h2>
      <p class="small">Querida Estela, otro año mas a pasado desde la anterior vez que estuvimos bromeando sobre nuestro cumpleaños y bueno aquí otra vez, en otro cumpleaños mas, además de haber fortalecido nuestra relación en el trascurso de este año, te estoy completamente agradecido de que hayas aparecido en mi vida, eres lo mejor que me ha pasado, eres una amiga estupenda en serio y sin nada mas que decir, te quiero y te aprecio muchísimo.</p>
    </section>

    <section class="gift-box">
      <h2>¡Tu regalo a que esperas para verlo!</h2>
      <div id="masked" style="margin-top:12px">
        <div class="gift-code" id="codeMasked">•••••-•••••-•••••-•••••-•••••</div>
        <div style="display:flex; gap:8px; justify-content:center; margin-top:8px; flex-wrap:wrap">
          <button class="btn btn-primary" id="revealBtn">Revelar</button>
          
        </div>
      </div>

      <div id="revealed" style="display:none; margin-top:12px">
        <div class="gift-code" id="giftCode">P88F4-DY3Y7-V2Y2Y-XH2TR-DW4YZ</div>
        <div style="display:flex; gap:8px; justify-content:center; margin-top:8px; flex-wrap:wrap">
          <button class="btn btn-primary" id="celebrateBtn">Celebrar</button>
          <button class="btn btn-ghost" id="copyBtn">Copiar</button>
        </div>
        <p class="small" style="margin-top:10px">Este regalo es conjunto con el Marc, es un código para obtener el Minecraft :D</p>
      </div>
    </section>

    <section class="gift-box">
      <h2>¡Y aquí otro regalo de mi parte!</h2>
      <div id="masked2" style="margin-top:12px">
        <div class="gift-code" id="codeMasked2">••••••••• •••••</div>
        <div style="display:flex; gap:8px; justify-content:center; margin-top:8px; flex-wrap:wrap">
          <button class="btn btn-primary" id="revealBtn2">Revelar</button>
        </div>
      </div>

      <div id="revealed2" style="display:none; margin-top:12px">
        <div class="gift-code" id="giftCode2">Bendición Lunar</div>
        <div style="display:flex; gap:8px; justify-content:center; margin-top:8px; flex-wrap:wrap">
          <button class="btn btn-primary" id="celebrateBtn2">Celebrar</button>
        </div>
        <p class="small" style="margin-top:10px">Este es regalo a parte que te quise hacer yo :)</p>
        <p class="small" style="margin-top:0px">No se como lo quieres hacer, entro en tu cuenta o te hago bizum ;)</p>
      </div>
    </section>
  </div>

  <script>
    const revealBtn = document.getElementById('revealBtn');
    const copyBtn = document.getElementById('copyBtn');
    const revealed = document.getElementById('revealed');
    const masked = document.getElementById('masked');
    const giftCodeEl = document.getElementById('giftCode');
    const celebrateBtn = document.getElementById('celebrateBtn');
    const revealBtn2 = document.getElementById('revealBtn2');
    const copyBtn2 = document.getElementById('copyBtn2');
    const revealed2 = document.getElementById('revealed2');
    const masked2 = document.getElementById('masked2');
    const giftCodeEl2 = document.getElementById('giftCode2');
    const celebrateBtn2 = document.getElementById('celebrateBtn2');

    let giftCode = 'P88F4-DY3Y7-V2Y2Y-XH2TR-DW4YZ';
    giftCodeEl.textContent = giftCode;
    let giftCode2 = 'Bendición Lunar';
    giftCodeEl2.textContent = giftCode2;

    revealBtn.addEventListener('click', ()=>{
      masked.style.display = 'none';
      revealed.style.display = 'block';
      launchConfetti();
      giftCodeEl.animate([{transform:'scale(0.98)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:700, easing:'ease'});
    });

    revealBtn2.addEventListener('click', ()=>{
      masked2.style.display = 'none';
      revealed2.style.display = 'block';
      launchConfetti();
      giftCodeEl2.animate(
        [{transform:'scale(0.98)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],
        {duration:700, easing:'ease'}
      );
    });

    copyBtn.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(giftCode);
        copyBtn.textContent = 'Copiado';
        setTimeout(()=>copyBtn.textContent = 'Copiar',2000);
      }catch(e){
        copyBtn.textContent = 'No disponible';
      }
    });

    celebrateBtn.addEventListener('click', ()=>{ launchConfetti(120); celebrateBtn.textContent='¡Yay!'; setTimeout(()=>celebrateBtn.textContent='Celebrar',2500); });
    celebrateBtn2.addEventListener('click', ()=>{ launchConfetti(120); celebrateBtn2.textContent='¡Yay!'; setTimeout(()=>celebrateBtn2.textContent='Celebrar',2500); });

    function launchConfetti(particles=60){
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      const dpr = window.devicePixelRatio || 1;
      canvas.width = canvas.clientWidth * dpr;
      canvas.height = canvas.clientHeight * dpr;
      ctx.scale(dpr,dpr);

      const w = canvas.clientWidth; const h = canvas.clientHeight;
      const pieces = [];
      for(let i=0;i<particles;i++){
        pieces.push({x: w/2, y: h/4, vx: (Math.random()-0.5)*8, vy: Math.random()*6+2, r: Math.random()*6+4, ttl: Math.random()*80+60, color: `hsl(${Math.random()*360}deg 80% 60%)`});
      }

      let t=0;
      function draw(){
        ctx.clearRect(0,0,w,h);
        t++;
        for(const p of pieces){
          p.x += p.vx; p.y += p.vy; p.vy += 0.15; p.ttl--;
          ctx.save(); ctx.beginPath(); ctx.translate(p.x,p.y); ctx.rotate(t/20);
          ctx.fillStyle = p.color; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r);
          ctx.restore();
        }
        for(let i=pieces.length-1;i>=0;i--) if(pieces[i].ttl<=0) pieces.splice(i,1);
        if(pieces.length>0) requestAnimationFrame(draw); else ctx.clearRect(0,0,w,h);
      }
      requestAnimationFrame(draw);
    }

    function resizeCanvas(){
      const canvas = document.getElementById('confetti');
      canvas.style.width = '100%';
      canvas.style.height = '100%';
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
  </script>
</body>
</html>
